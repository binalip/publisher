
<div id='msg-container-recent-activity'></div>
<div class="widget wlightblue">
<div class="clearfix"></div>
<div class="widget-content">
<form class="form-horizontal" id='form-asset-create' role="form">
<h2 class="first-h2">Overview</h2>
<p class="title-helper-txt">A small description about these set of fields.</p>
<fieldset>
    {{{ form_render "overview_provider" data.fields }}}
    {{{ form_render "overview_name" data.fields }}}
    {{{ form_render "overview_context" data.fields }}}
    {{{ form_render "overview_version" data.fields }}}
    {{{ form_render "overview_transports" data.fields }}}
    {{{ form_render "overview_webAppUrl" data.fields }}}
    {{{ form_render "overview_description" data.fields }}}
    {{{ form_render "images_thumbnail" data.fields }}}
    {{{ form_render "images_banner" data.fields }}}

    <input type='hidden' value="" name="context" id="context_id" />
    <input type='hidden' value="" name="version" id="version_id" />
    <input type='hidden' value="Unlimited" name="overview_tier" />
    <input type='hidden' value="" name="overview_trackingCode" id="tracking_code" />

    <div class="form-group">
        <label class="control-label col-sm-2">Visibility: </label>
        <div class="col-sm-10">
            <input type="text" id="roles" name="roles"  />
        </div>
    </div>


    <div class="form-group">
        <b><label class="control-label col-sm-2">Tags: </label></b>
        <div class="col-sm-10">
            <input type='text' id='tag-test' name='tags'>
        </div>
    </div>

</fieldset>
<h2>XACML Policies <button id="btn-add-xacml-policy" class="btn btn-default pull-right" data-toggle='modal' data-target='#entitlement-policy-editor' type="button">Add New Policy</button></h2>
<p class="title-helper-txt">A small description about these set of fields.</p>

<fieldset>
    <input type='hidden' value="[]" name="uritemplate_policyPartialIds" id="uritemplate_policyPartialIds" />
    <table class="table table-striped" id="policyPartialsTable">
        <thead>
        <tr >
            <th>Policy Name</th>
            <th>Shared</th>
            <th>Author</th>
            <th>Action</th>
        </tr>
        </thead>
        <tbody>

        </tbody>
    </table>
</fieldset>





<h2>Web Application Resources</h2>
<p class="title-helper-txt">A small description about these set of fields.</p>


<fieldset>
    <div class="resource_form">
        <div class="form-group">
            <label class="control-label col-sm-2">URL Pattern</label>
            <div class="col-sm-10">
                <div class="input-prepend">
                    <span class="add-on">/{context}/{version}/</span>
                    <input class="col-md-2" id="url_pattern" type="text"
                           placeholder="path/to/resource" style="width: 400px">
                </div>
            </div>
        </div>
        <div class="form-group">
            <b><label class="control-label col-sm-2">HTTP Verb</label></b>
            <div class="col-sm-10">
                <div class="checkbox">
                    <label><input value="GET" class="http_verb" type="checkbox">GET</label>
                    <label><input value="POST" class="http_verb" type="checkbox">POST</label>
                    <label><input value="PUT" class="http_verb" type="checkbox">PUT</label>
                    <label><input value="DELETE" class="http_verb" type="checkbox">DELETE</label>
                    <label><input value="OPTIONS" class="http_verb" type="checkbox">OPTIONS</label>
                </div>
            </div>
        </div>
        <div class="form-group">
            <div class="col-sm-10 col-sm-offset-2">
                <button class="btn btn-default" type="button" id="add_resource">Add Resource</button>
                <button class="btn btn-default" type="button" id="clear_resource">Clear</button>
            </div>
        </div>
    </div>
    <!-- resource form-->
    <table
            class="table table-striped table-bordered table-condensed table-hover resource-table"
            style="margin-top: 10px;">
        <thead>
        <tr>
            <th>URL Pattern</th>
            <th style="width: 80px;">HTTP Verb</th>
            <th style="width: 80px;">Throttling Tier</th>
            <th style="width: 70px;">Skip Throttling</th>
            <th style="width: 50px;">Access Policy</th>
            <th style="width: 190px">User Roles</th>
            <th style="width: 55px"></th>
        </tr>
        </thead>
        <tbody id="resource_tbody">
        </tbody>
    </table>
</fieldset>

<fieldset>
    <input type='hidden' id="entitlementPolicies" name="entitlementPolicies" />
</fieldset>


<h2>Single Sign On Configuration</h2>
<p class="title-helper-txt">A small description about these set of fields.</p>

<fieldset>
    <div class="form-group">
        <label class="control-label col-sm-2">Logout URL</label>
        <div class="col-sm-10">
            <input type='text'  class='ccol-lg-6 col-sm-8 col-xs-6' value="{{{snoop "fields(name=overview_logoutUrl).value" data}}}" name="overview_logoutUrl" id="overview_logoutUrl" />
        </div>
    </div>
    <div id="ssoTable" class="sso">

        <div class="form-group">
            <div class="col-sm-offset-2 col-sm-10">
                <div class="checkbox">
                    <label>
                        <input type="checkbox" name="autoConfig" id="autoConfig" />Auto Configuration
                    </label>
                </div>
            </div>
        </div>
        <div id="provider-table" style="display: none;"  class="form-group claims-table">
            <label class="control-label col-sm-2">SSO Providers</label>

            <div class="col-sm-10">

                <select name="providers" id="providers">
                </select>
                <input type='hidden' value="" name="sso_ssoProvider" id="sso_ssoProvider"/>

            </div>
        </div>


        <div class="form-group claims-table" id="claims-table" style="display: none;" >
            <label class="control-label col-sm-2">Claims</label>
            <div class="col-sm-10">
                <select name="claims" id="claims"></select>
                <input id="addClaims" name="addClaims" type="button" value="Add Claim">
            </div>
        </div>

    </div>


    <table id="claimTableId" style="display: none;" class="table table-bordered">
        <tbody id="claimTableTbody">
        <input type="hidden" name="claimPropertyCounter" id="claimPropertyCounter" value="0">
        </tbody>
    </table>
</fieldset>

<fieldset>
    <input type='hidden' value="Enabled" name="sso_singleSignOn" />
    <input type='hidden' value="https://localhost:9444/samlsso/" name="sso_idpProviderUrl" />
    <input type='hidden' value="" name="sso_saml2SsoIssuer" id="saml2SsoIssuer" />
</fieldset>
<h2>OAUTH Parameters</h2>
<p class="title-helper-txt">A small description about these set of fields.</p>

<fieldset>
    <table
            class="table table-striped table-bordered table-condensed table-hover"
            style="margin-top: 10px;">
        <thead>
        <tr>
            <th>API Token Endpoint</th>
            <th>API Consumer Key</th>
            <th>API Consumer Secret</th>
            <th>API Name</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td><input class="col-md-12" name="oauthapis_apiTokenEndpoint1" type="text" value="{{{snoop "fields(name=oauthapis_apiTokenEndpoint1).value" data}}}"></td>
            <td><input class="col-md-12" name="oauthapis_apiConsumerKey1" type="text" value="{{{snoop "fields(name=oauthapis_apiConsumerKey1).value" data}}}"></td>
            <td><input class="col-md-12" name="oauthapis_apiConsumerSecret1" type="text" value="{{{snoop "fields(name=oauthapis_apiConsumerSecret1).value" data}}}"></td>
            <td><input class="col-md-12" name="oauthapis_apiName1" type="text" value="{{{snoop "fields(name=oauthapis_apiName1).value" data}}}"></td>
        </tr>
        <tr>
            <td><input class="col-md-12" name="oauthapis_apiTokenEndpoint2" type="text" value="{{{snoop "fields(name=oauthapis_apiTokenEndpoint2).value" data}}}"></td>
            <td><input class="col-md-12" name="oauthapis_apiConsumerKey2" type="text" value="{{{snoop "fields(name=oauthapis_apiConsumerKey2).value" data}}}"></td>
            <td><input class="col-md-12" name="oauthapis_apiConsumerSecret2" type="text" value="{{{snoop "fields(name=oauthapis_apiConsumerSecret2).value" data}}}"></td>
            <td><input class="col-md-12" name="oauthapis_apiName2" type="text" value="{{{snoop "fields(name=oauthapis_apiName2).value" data}}}"></td>
        </tr>
        <tr>
            <td><input class="col-md-12" name="oauthapis_apiTokenEndpoint3" type="text" value="{{{snoop "fields(name=oauthapis_apiTokenEndpoint3).value" data}}}"></td>
            <td><input class="col-md-12" name="oauthapis_apiConsumerKey3" type="text" value="{{{snoop "fields(name=oauthapis_apiConsumerKey3).value" data}}}"></td>
            <td><input class="col-md-12" name="oauthapis_apiConsumerSecret3" type="text" value="{{{snoop "fields(name=oauthapis_apiConsumerSecret3).value" data}}}"></td>
            <td><input class="col-md-12" name="oauthapis_apiName3" type="text" value="{{{snoop "fields(name=oauthapis_apiName3).value" data}}}"></td>
        </tr>
        </tbody>
    </table>
</fieldset>




<!--
{{#each data.fields}}

{{/each}}-->
<div class="form-group form-actions" >
    <div class="col-sm-10" id="saveButtons" >
        <button id="btn-create-asset" class="btn btn-primary" name="addNewAssetButton">Create</button>
        <button class="btn btn-reset" type="reset">Reset</button>
        <input type="hidden" value="{{shortName}}" name="{{shortName}}" id="meta-asset-type">
    </div>
</div>

</form>

{{> entitlement-policy-editor}}

</div>

</div>
